"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Quests = void 0;
class Quests {
    constructor(logger, tables, modConf) {
        this.logger = logger;
        this.tables = tables;
        this.modConf = modConf;
        this.questDB = this.tables.templates.quests;
        this.locales = this.tables.locales.global["ru"];
    }
    fixMechancicQuests() {
	    var descID = "";
        var questDescs = [];
        for (let quest in this.questDB) {
            if (this.questDB[quest].QuestName.includes("Gunsmith")) {
                let conditions = this.questDB[quest].conditions.AvailableForFinish[0];
				let descID = this.questDB[quest].description;
                conditions._props.ergonomics.compareMethod = ">=";
                conditions._props.ergonomics.value = -100;
                conditions._props.recoil.compareMethod = "<=";
                conditions._props.recoil.value = 100000;
                //conditions._props.weight.compareMethod = "<=";
                //conditions._props.weight.value = 10000;
                //conditions._props.width.compareMethod = ">=";
                //conditions._props.width.value = 0;
                //conditions._props.height.compareMethod = ">=";
                //conditions._props.height.value = 0;
                //conditions._props.durability.compareMethod = "<=";
                //conditions._props.durability.value = 200;
				this.questDescHelper(questDescs, descID, "5ac23c6186f7741247042bad description", "Здравствуй, наёмник. Да, меня Механиком зовут. Давай к делу, ты хотел помочь? У меня сейчас своих дел невпроворот. Времени всегда мало, и программатор для ПЛК100 вышел из строя. Да еще эти заказы... Впрочем, к чему я тебе это говорю. Я собираю для клиентов специфические сборки оружия, и мне бы не помешала помощь. Собери мне дробовик МР-133, сам я его собрать не успею, скорее всего, да и запчастей не хватает. Требуется лазерный прицел и расширенный магазин. А, ну ещё чтобы места много не занимал, не больше 4 ячеек. Собери мне такой, а потом уже и о дальнейшей работе поговорим, договорились?");
                this.questDescHelper(questDescs, descID, "5ac2426c86f774138762edfe description", "С ружьем ты не подвел, значит, умеешь что-то. Хотя, времени мне от этого особо не прибавилось. Все биржи горят, главное, чтобы паника не началась. Хотя план остается прежним, думаю, это ненадолго. Ладно, мне нужно работать. А ты попробуй достать АКС-74У. Нужен с цевьем Зенит Б-11, расширенным магазином на 60, но компактный, на 6 ячеек, не более. Прицельная дальность 100 или больше. И максимально легкий, конечно, 3.5 кг или меньше. Да, индексы тут не причем. Надеюсь, запомнил. Не задерживайся.");
                this.questDescHelper(questDescs, descID, "5ac2428686f77412450b42bf description", "В детстве люди говорили, что важна не точка назначения, а путешествие. Но что, если точка назначения - это ты сам, то, что ты умеешь, как используешь свои рефлексы и сколько патронов у тебя в магазине? Это особенно чувствуется, когда ты должен выживать, цепляться зубами за этот мир. Ладно, к делу. Мне нужен МP5. С расширенным магазином на 50 патронов, глушителем, тактическим фонарем и прицельной дальностью больше 200. Вес не более 4 кг. И реши для себя, что важней - путешествие или цель.");
                this.questDescHelper(questDescs, descID, "639872f9decada40426d3447 description", "А, привет. Ты как, поохотиться любишь? На лося там, на оленя... Я вот всегда нейтрально относился к охоте, хоть и люблю свое оружейное дело. Так вот, к чему это я. Есть новый заказ, и я хотел попросить тебя помочь с ним. Нужен обновлённый карабин Симонова, с глушителем и оптикой. Магазин от 20 патронов и больше.");
                this.questDescHelper(questDescs, descID, "5ae3267986f7742a413592fe description", "Только, казалось, разобрался со стабильным интернетом и энергией для него, как игры правительства заходят еще дальше, и они начинают блокировать половину IP адресов, через которые идет большая часть потока данных из Таркова. И все из-за того, что якобы TerraGroup использует интернет “Ебамбиум” для обострения ситуации в городе и создания хаоса. Больше похоже на какие-то бредни про наступающий рагнарек, не находишь? Кстати о бреднях и оружии — приходил недавно странный парень, с тату в виде молнии на лице, просил дробовик Remington 870. Укомплектован чтобы был тактическим блоком, цевьем Magpul MOE и тактической рукояткой.");
                this.questDescHelper(questDescs, descID, "5ae3270f86f77445ba41d4dd description", "Как ты думаешь, все страдания, что выпали на жителей нашего города — результат действий самого общества, или контролируемый процесс, и это лишь начало? Всё время после этого культиста с молнией думаю об этом. Хотя я решил для себя, что даже если это и чья-то невидимая рука, наше общество это заслужило. Мы сами, своими действиями, покупая кроссовки или даже свекольный салат, поддерживали тех, кто строит лаборатории и предприятия, а потом с помощью них же скидывает нас в бездну. Ладно, меня опять тянет на откровения, давай по делу. Принеси мне АКМ, с ручкой Fortis Shift, глушителем, магазином Magpul на 30 патронов, и прицельной дальностью 800 и выше.");
				this.questDescHelper(questDescs, descID, "5ac244eb86f7741356335af1 description", "Иногда думаю, хорошо, что я оказался именно в Таркове. Вся планета как будто движется в пропасть, в зияющую, холодную бездну. Всё потеряло смысл. Люди, их ценности, их мысли и их цели. Сейчас они не знают, зачем им радоваться, работать, рожать детей. Все устали от иллюзии выбора, которую им предлагали все это время, от того, что они должны работать и покупать синие сигареты или красные. Это происходит везде, в каждом уголке мира. А здесь, в Таркове, мы честны с собой. Мы видим это все уже в гипертрофированном виде, без ложных ценностей, когда ты не просто решаешь, какой стиральный порошок лучше выводит пятна, а как согреться ночью и где найти патронов на следующего подонка, который захочет тебя убить. Только в таком честном перед собой обществе люди проявляют себя. Как думаешь? Ладно, спасибо, что выслушал. Людям понадобилась M4 собранная. Нужен глушитель, расширенный магазин на 60. Вес, при этом, не более 3,8 кг, с прицельной дальностью более 800.");
                this.questDescHelper(questDescs, descID, "5ae3277186f7745973054106 description", "У меня есть две нейронные сети, одна распознает лица на камерах и сравнивает с базой, а вторая следит за торгами на крипторынке и реагирует. Сегодня решил заняться еще одной, которая будет следить за температурой, влажностью, давлением и другими параметрами у меня в убежище, а среди прочего — реагировать на мое настроение. Посмотрим, что из этого выйдет, как закончу. Есть заказ на AКС-74Н в Зените. С занимаемым местом не больше 10 ячеек. А главное, чтобы были цевье \"Б-30\" с накладкой \"Б-31C\" от Зенита, тактическая рукоятка РК-0, приклад ПТ-3, магазин от АК-12, фонарь \"Клещ-2ИКС\" и всё остальное от Зенита, что найдешь. Наверное, подарок экс-Петербуржцу.");
				this.questDescHelper(questDescs, descID, "639872fa9b4fb827b200d8e5 description", "А, здравствуй. Тут необычное дело появилось. Нечасто у меня пистолеты заказывают, но тут особый случай. Значит так, принеси мне SIG P226R, рукоятка \"Stainless Elite Wooden\", затвор \"Stainless Elite\", с увеличенным магазином и фонариком. Оружие для настоящих ценителей.");
                this.questDescHelper(questDescs, descID, "5ae327c886f7745c7b3f2f3f description", "Я назвал её Люся, это я про нейросеть. С тем, когда я молчу, она справляется хорошо, и вовремя даже сообщает о надобности поспать, но стоит мне начать говорить самому с собой, как она пытается тут же меня развлечь, ставит музыку или что-то подобное. Впрочем, обучал я ее на фильмах и фразах из них, видимо, такая реакция нам преподносится в кино как самая правильная, но не для меня. Надо будет подумать, какие раздражители лучше всего имитируют реальных людей, а не общество и его стереотипы. Опять я отвлёкся. Собери теперь АК-105, с глушителем, магазином на 60 патронов. По параметрам — прицельная дальность больше 800, вес 4,8 или меньше. И, как всегда, компактный, на 8 ячеек.");
                this.questDescHelper(questDescs, descID, "639872fc93ae507d5858c3a6 description", "Ты вовремя, друг. Если будет время, помоги мне с кастомизацией. Солидный клиент оставил заказ на пистолет-пулемет KRISS Vector в калибре 9x19. Обязательно нужно крепление \"Mk.5 Modular Rail\", рукоятка Tactical Dynamics \"Skeletonized Foregrip\", прицел на твой вкус, магазин не меньше, чем на 33 патрона и глушитель. Спасибо!");
                this.questDescHelper(questDescs, descID, "5b47799d86f7746c5d6a5fd8 description", "Так, тут срочный заказ, времени совсем мало. Забегал какой-то парень, хочет разобраться с Решалой, который с заводскими парнями сейчас где-то в общаге орудует. Собери MPX, с пистолетной рукояткой Tactical Dynamics \"Skeletonized Grip\" для AR-15, пламегасителем Annihilator и тактическим фонарем Steiner LAS/TAC 2. Прицельная дальность нужна больше 300, масса меньше 4 кг. Только никому не говори про то, зачем тебе это. Если Решала узнает, то ему это очевидно не понравится, а парни у него боевые, все служили до работы на заводе.");
                this.questDescHelper(questDescs, descID, "5ac244c486f77413e12cf945 description", "Ты хорошо умеешь прятаться? Думаю, не достаточно, чтобы Снайпер тебя не нашел. Не завидую тому парню, как же его.. Брендан, кажется. Интересно, все наши прошлые герои, которыми все так восхищались, куда они сейчас делись? Почему все оказались пустыми? Почему сейчас, когда вокруг хаос, такие люди, как Снайпер, для нас стали героями? Почему раньше мы даже не вспоминали о таких “вояках”, а сейчас ищем их дружбы? Что скажешь? У меня еще один заказ, теперь на R11 RSASS. Нужна с прицельной дальностью больше 1500. По весу 6,7 кг или меньше. И самое главное, с глушителем!");
                this.questDescHelper(questDescs, descID, "639872fe8871e1272b10ccf6 description", "Здравствуй. Появился новый заказ на импортную винтовку HK 416A5. Требуют собрать из модулей песочного цвета: Глушитель SureFire \"SOCOM556-RC2\", тактическая рукоятка Magpul \"RVG\", голографический прицел EOTech \"EXPS3\", пистолетная рукоятка Magpul \"MOE\", приклад Magpul \"UBR GEN2\" и тактический блок \"LA-5B/PEQ\". Вес меньше 4 килограмм. Как у спецсил, да? Постарайся только найти не убитую в хлам винтовку, техническое состояние должно быть не ниже 80%.");
                this.questDescHelper(questDescs, descID, "5ae3280386f7742a41359364 description", "Пока я занимался сетью, начал задумываться, чем отличаемся мы от нее и когда сможем заменить наши недолговечные мозги подобного рода системой. Как думаешь, когда-нибудь настанет такое время? Я думаю, совсем скоро: уже сейчас мы не знаем, какие процессы происходят внутри нейронной сети, есть только сигнал на вход и результат ее действий, а также то, как она научилась по своим внутренним законам, выстраивая внутри себя какие-то свои нейронные связи. Чем это отличается от нас? Ты бы хотел жить в мире, где только твой разум и его фантазия ограничивают тебя в действиях? Правда, думаю, жить в таком мире может быть ничуть не лучше, чем в нашем, если в нем нет стремления к чему-либо. А будет ли оно, если ты бессмертен и всемогущ?.. Ладно, на этот раз нужен АС Вал. Приклад GL-SHOCK, тактический блок AN/PEQ-15, ночной прицел НСПУ-М и магазин на 30 патронов.");
                this.questDescHelper(questDescs, descID, "5ac242ab86f77412464f68b4 description", "Я наговорил тебе в прошлый раз, извини. У меня бывает, когда я слишком долго наедине с мыслями. Пока калибруешь прицелы, столько всего успевает проскочить в голове. А эмка получилось интересная, забрали ее сразу. Ко мне недавно Бирец заглянул, Снайпером представился, кажется. Диверсионная Винтовка Лобаева ему нужна, с оптическим прицелом и мультилазерным блоком. Массой не более 6,7 кг. Сказал, стрелять нужно метров с 2000. Мужик серьёзный, поэтому постарайся собрать на совесть.");
				this.questDescHelper(questDescs, descID, "5b47749f86f7746c5d6a5fd4 description", "Когда-то давно я встречался с владельцем KIBA Arms, даже сходили в баню, хотя я не любитель. Он тогда еще сломал ногу, прыгнув с причала. Веселый парень, все время хотел организовать полигон для страйкбола. Похоже, его желания превратились в реальность в Таркове, в самый большой и лучший в мире, только с одной маленькой поправкой, здесь умираешь по-настоящему и теряешь все от одной пули из-за какого-нибудь угла. Собери АК-102, с дульным устройством Ferfrans \"CRD Concussion Reduction Device\", тактической рукояткой Magpul AFG OD,  фонарем Клещ-2У, трубой приклада от РПК-16 и магазином \"Circle 10\". Прицельная дальность 800, и места чтобы занимал 8 или менее ячеек.");
				this.questDescHelper(questDescs, descID, "5b477b6f86f7747290681823 description", "Хочу попробовать научить Люсю распознавать правду от лжи. Если результат получится хотя бы с 90% достоверностью, интересно будет послушать всех тех политиков и глав TerraGroup, что вещали нам о своих благих целях совсем недавно, уверяли в пользе нашей экономической зоны и светлом будущем. Сколько из этого было концентрированной ложью? Я думаю, всё. Нужен АКМН в обвесе Magpul. То есть цевье, приклад, пистолетная ручка нужны Magpul. Все в черном цвете. Еще глушитель Ротор 43, тактическая рукоятка Magpul M-LOK AFG (Черная) и Гибридный прицельный комплекс EOTech \"HHS-1\", и вес не более 5кг с прицельной дальностью 500.");
				this.questDescHelper(questDescs, descID, "639873003693c63d86328f25 description", "Привет, у меня для тебя работа. Нужна СВДС в следующем обвесе: черный приклад Magpul \"UBR GEN2\", Шасси SAG \"MK1\", черная пистолетная рукоятка Magpul \"MOE\", оптический прицел March Tactical \"3-24x42 FFP\" и глушитель.");
				this.questDescHelper(questDescs, descID, "5b477f7686f7744d1b23c4d2 description", "Заказ для Снайпера, он, похоже, опять где-то в лесах будет неделю выслеживать негодяев. Сужу по тому, что он собрал хороший такой рюкзак с сухпайком, огнивом, батарейками и водой. Оставил пока у меня его. Нужна М1А. Крепление Ultimak \"M8 Forward Optic\", оптический прицел Nightforce \"ATACR 7-35x56\", коллиматорный прицел \"Micro Т-1\", тактический блок Holosun \"LS321\". И вес 7.3кг или меньше.");
				this.questDescHelper(questDescs, descID, "63987301e11ec11ff5504036 description", "У меня тут необычный заказ. Не на один шедевр, как обычно, а на два произведения искусства. Я думаю, справишься. Пейзаж —\u00A0снайперская винтовка Remington Model 700 целиком в обвесе от AB Arms, обязательно с мощной оптикой и глушителем. И легкую обязательно, с небольшим магазином. Натюрморт —\u00A0пистолет Colt M1911, рукоятка Pachmayr, дульный тормоз Anarchy Outdoors и любой фонарь.");
				this.questDescHelper(questDescs, descID, "5b47825886f77468074618d3 description", "Как ты думаешь, сколько сейчас стоит человеческая жизнь? Думаю, немного. Но больше меня удивляет рынок современного искусства, цены на произведения авторов растут каждый год. Они безусловно талантливы, но чем дальше ты смотришь на это, тем больше кажется, что искусством может быть что угодно. Это может быть картина Гротко, оторванный писсуар или куча мусора. Однако, по моему мнению, самое потрясающее искусство - это оружие, начиная с холодного, что уже всеми признано и которое можно встретить во многих музеях, и заканчивая старым АК или M4. Которые даже сами по себе прекрасны. Но по-настоящему искусством оружие становится, когда делается уникальным, порой единственным в своем роде, в руках того, кто умеет им пользоваться, кто модифицирует его под себя, делая шедевр, достойный залов лучших музеев. Принеси мне такой шедевр. Нужна M4A1, с глушителем KAC QDSS NT-4 (FDE), цевьем Alexander Arms MK10 винтовочной длины, тепловизором REAP-IR и магазином на 60 патронов. И вес 5кг или меньше.");
            }
        }
        for (let desc in questDescs) {
            this.locales[questDescs[desc].descId] = questDescs[desc].desc;
        }
        if (this.modConf.logEverything == true) {
            this.logger.info("Mechanic Quests Fixed");
        }
    }
    questDescHelper(array, descId, targetId, desc) {
        if (descId === targetId) {
            array.push({ descId, desc });
        }
    }
}
exports.Quests = Quests;
